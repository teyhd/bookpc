<!-- Основная навигация -->
<nav class="bg-amber-800 text-white shadow-md">
  <div class="container mx-auto px-4">
    <div class="flex justify-between items-center h-16">
      <!-- Логотип (адаптивный) -->
      <a href="/" class="text-xl font-bold md:hidden">Онлайн Платоникс</a>
      <a href="/" class="text-xl font-bold hidden md:block mx-auto">Онлайн Платоникс</a>

      <!-- Кнопка бургер-меню (только для мобильных) -->
      <button @click="mobileMenuOpen = !mobileMenuOpen" class="md:hidden focus:outline-none">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
      </button>

      <!-- Основное меню (скрыто на мобильных) -->
      <div class="hidden md:flex items-center space-x-4">
        <div class="relative group" x-data="{ open: false }">
          <button @click="open = !open" class="flex items-center space-x-1 focus:outline-none">
            <span>Управление</span>
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          
          <!-- Выпадающее меню (десктоп) -->
          <div x-show="open" @click.away="open = false" 
               class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50">
            <ul>
              {{#if auth}}
                <li><a href="/logout" class="block px-4 py-2 text-gray-800 hover:bg-amber-100 flex items-center">
                  Выход <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>
                </a></li>
              {{else}}
                <li><a @click="loginModalOpen = true" class="block px-4 py-2 text-gray-800 hover:bg-amber-100 flex items-center cursor-pointer">
                  Вход <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>
                </a></li>
              {{/if}}
              {{>navli}}
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Мобильное меню (открывается по клику) -->
  <div x-show="mobileMenuOpen" @click.away="mobileMenuOpen = false" 
       class="md:hidden fixed inset-0 bg-black bg-opacity-50 z-40" style="display: none;">
    <div class="bg-white h-full w-64 shadow-lg transform transition-transform duration-300 ease-in-out"
         :class="mobileMenuOpen ? 'translate-x-0' : '-translate-x-full'">
      <div class="p-4 border-b">
        <span class="text-lg font-bold text-gray-800">Меню</span>
      </div>
      <ul class="py-2">
        {{#if auth}}
          <li><a href="/logout" class="block px-4 py-3 text-gray-800 hover:bg-amber-50 flex items-center">
            Выход <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>
          </a></li>
        {{else}}
          <li><a @click="loginModalOpen = true; mobileMenuOpen = false" 
                class="block px-4 py-3 text-gray-800 hover:bg-amber-50 flex items-center cursor-pointer">
            Вход <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>
          </a></li>
        {{/if}}
        {{>navli}}
      </ul>
    </div>
  </div>
</nav>

<!-- Модальное окно входа (пример) -->
<div x-data="{ loginModalOpen: false }">
  <div x-show="loginModalOpen" @click.away="loginModalOpen = false" 
       class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" style="display: none;">
    <div class="bg-white rounded-lg shadow-xl w-full max-w-md mx-4">
      <div class="p-6">
        <h3 class="text-xl font-bold mb-4">Вход в систему</h3>
        <!-- Здесь будет форма входа -->
      </div>
      <div class="bg-gray-100 px-6 py-3 flex justify-end">
        <button @click="loginModalOpen = false" class="px-4 py-2 text-gray-700 hover:text-gray-900">
          Закрыть
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Инициализация Alpine.js -->
<script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
<script>
  document.addEventListener('alpine:init', () => {
    Alpine.data('nav', () => ({
      mobileMenuOpen: false,
      loginModalOpen: false
    }))
  })
</script>